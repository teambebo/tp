<?php
	/*
	Telegram.me/OneProgrammer
	Telegram.me/SpyGuard
	Github.com/mehrab-wj/SimplePHPBot
	----[ Lotfan Copy Right Ro Rayat Konid <3 ]----
	############################################################################################
	# if you need Help for develop this source , You Can Send Message To Me With @SpyGuard_BOT #
	############################################################################################
	*/
	define('API_KEY','**TOKEN**');
	//----######------
	
	function makereq($method,$datas=[]){
	$url = "https://api.telegram.org/bot".API_KEY."/".$method;
	$ch = curl_init();
	curl_setopt($ch,CURLOPT_URL,$url);
	curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
	curl_setopt($ch,CURLOPT_POSTFIELDS,http_build_query($datas));
	$res = curl_exec($ch);
	if(curl_error($ch)){
	var_dump(curl_error($ch));
	}else{
	return json_decode($res);
	}
	}
	//---------
	$update = json_decode(file_get_contents('php://input'));
	var_dump($update);
	//=========
	$chat_id = $update->message->chat->id;
	$message_id = $update->message->message_id;
	$from_id = $update->message->from->id;
	$name = $update->message->from->first_name;
	$contact = $update->message->contact;
	$cnumber = $update->message->contact->phone_number;
	$cname = $update->message->contact->first_name;
	
	$photo = $update->message->photo;
	$video = $update->message->video;
	$sticker = $update->message->sticker;
	$file = $update->message->document;
	$music = $update->message->audio;
	$voice = $update->message->voice;
	$forward = $update->message->forward_from;
	
	$username = $update->message->from->username;
	$textmessage = isset($update->message->text)?$update->message->text:'';
	$reply = $update->message->reply_to_message->forward_from->id;
	$stickerid = $update->message->reply_to_message->sticker->file_id;
	//------------
	$_sticker = file_get_contents("data/setting/sticker.txt");
	$_video = file_get_contents("data/setting/video.txt");
	$_voice = file_get_contents("data/setting/voice.txt");
	$_file = file_get_contents("data/setting/file.txt");
	$_photo = file_get_contents("data/setting/photo.txt");
	$_music = file_get_contents("data/setting/music.txt");
	$_forward = file_get_contents("data/setting/forward.txt");
	$_joingp = file_get_contents("data/setting/joingp.txt");
	//------------
	$admin = **ADMIN**;
	$bottype = "**free**";
	$step = file_get_contents("data/".$from_id."/step.txt");
	$type = file_get_contents("data/".$from_id."/type.txt");
	$list = file_get_contents("data/blocklist.txt");
	//---Buttons----
	$btn1_name = file_get_contents("data/btn/btn1_name");
	$btn2_name = file_get_contents("data/btn/btn2_name");
	$btn3_name = file_get_contents("data/btn/btn3_name");
	$btn4_name = file_get_contents("data/btn/btn4_name");
	
	$btn1_post =  file_get_contents("data/btn/btn1_post");
	$btn2_post =  file_get_contents("data/btn/btn2_post");
	$btn3_post =  file_get_contents("data/btn/btn3_post");
	$btn4_post =  file_get_contents("data/btn/btn4_post");
	
	//-----------
	function SendMessage($ChatId, $TextMsg)
	{
	makereq('sendMessage',[
	'chat_id'=>$ChatId,
	'text'=>$TextMsg,
	'parse_mode'=>"MarkDown"
	]);
	}
	function SendSticker($ChatId, $sticker_ID)
	{
	makereq('sendSticker',[
	'chat_id'=>$ChatId,
	'sticker'=>$sticker_ID
	]);
	}
	function Forward($KojaShe,$AzKoja,$KodomMSG)
	{
	makereq('ForwardMessage',[
	'chat_id'=>$KojaShe,
	'from_chat_id'=>$AzKoja,
	'message_id'=>$KodomMSG
	]);
	
	}
	function save($filename,$TXTdata)
	{
	$myfile = fopen("data/".$filename, "w") or die("Unable to open file!");
	fwrite($myfile, "$TXTdata");
	fclose($myfile);
	}
	//===========
	if (strpos($list , "$from_id") !== false  ) {
		SendMessage($chat_id,"You Are Blocked!");
	}
	elseif(isset($update->callback_query)){
    $callbackMessage = 'تحديث';
    var_dump(makereq('answerCallbackQuery',[
        'callback_query_id'=>$update->callback_query->id,
        'text'=>$callbackMessage
    ]));
    $chat_id = $update->callback_query->message->chat->id;
    $message_id = $update->callback_query->message->message_id;
    $data = $update->callback_query->data;
    //SendMessage($chat_id,"$data");
	
    if ($data == "sticker" && $_sticker == "✅") {
      save("setting/sticker.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = مقفول.
 ✅ =مفتوح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>"⛔️",'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعادة توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
    if ($data == "sticker" && $_sticker == "⛔️") {

	 save("setting/sticker.txt","✅");
	     var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = مقفول.
 ✅ =مفتوح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>"✅",'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 
     if ($data == "video" && $_video == "✅") {
      save("setting/video.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>"⛔️",'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعادة توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
     if ($data == "video" && $_video == "⛔️") {
   save("setting/video.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ =فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>"✅",'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 
    if ($data == "voice" && $_voice == "✅") {
      save("setting/voice.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>"⛔️",'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
    if ($data == "voice" && $_voice == "⛔️") {

	   save("setting/voice.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>"✅",'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
    if ($data == "file" && $_file == "✅") {
      save("setting/file.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.
 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>"⛔️",'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
    if ($data == "file" && $_file == "⛔️") {
	  save("setting/file.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>"✅",'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للكروبات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 
     if ($data == "photo" && $_photo == "✅") {
      save("setting/photo.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>"⛔️",'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
     if ($data == "photo" && $_photo == "⛔️") {
	 save("setting/photo.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>"✅",'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 
      if ($data == "music" && $_music == "✅") {
      save("setting/music.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3 ",'callback_data'=>"music"],['text'=>"⛔️",'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه ",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
      if ($data == "music" && $_music == "⛔️") {
	       save("setting/music.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3 ",'callback_data'=>"music"],['text'=>"✅",'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 
 
       if ($data == "forward" && $_forward == "✅") {
      save("setting/forward.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3 ",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>"⛔️",'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
       if ($data == "forward" && $_forward == "⛔️") {

	 save("setting/forward.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل.
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه ",'callback_data'=>"forward"],['text'=>"✅",'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 
      if ($data == "joingp" && $_joingp == "✅") {
      save("setting/joingp.txt","⛔️");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل .
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>"⛔️",'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
      if ($data == "joingp" && $_joingp == "⛔️") {
	 save("setting/joingp.txt","✅");
    var_dump(
        makereq('editMessageText',[
            'chat_id'=>$chat_id,
            'message_id'=>$message_id,
            'text'=>"الاعدادات.

 🚫 = قفل .
 ✅ = فتح",
            'reply_markup'=>json_encode([
                'inline_keyboard'=>[
                    			[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>"⛔️",'callback_data'=>"joingp"]
					]
		
                ]
            ])
        ])
    );
 }
 //=========================
}
	
	elseif($textmessage == '')
	{
	//Check Kardan (Media)
	if ($contact  != null && $step== 'Set Contact' && $from_id == $admin) {
	save("profile/number.txt",$cnumber);
	save("profile/cname.txt",$cname);
	SendMessage($chat_id,"جهة الاتصال .
	*$cname *: `$cnumber`");
	}
	
	if ($photo != null) {
	if ($_photo == "⛔️") {
	SendMessage($chat_id,"Locked!");
	}
	else {
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		Forward($reply,$chat_id,$message_id); 
		
		}
	}
	}
	
	if ($sticker != null ) {
		if ($_sticker == "⛔️" && $from_id != $admin) {
	SendMessage($chat_id,"Locked!");
		}
	else {
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		Forward($reply,$chat_id,$message_id); 
		}
	}
	}
	
	if ($video != null) {
		if ($from_id != $admin && $_video == "⛔️") {
	SendMessage($chat_id,"Locked!");
		}
		else {
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		Forward($reply,$chat_id,$message_id); 
		}
	}
	}
	
	if ($music != null ) {
		if ($from_id != $admin && $_music == "⛔️") {
	SendMessage($chat_id,"Locked!");
	}
	else {
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		Forward($reply,$chat_id,$message_id); 
		}
	}
	}
	
	if ($voice != null) {
		if ($from_id != $admin && $_voice == "⛔️") {
	SendMessage($chat_id,"Locked!");
	}
	else {
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		Forward($reply,$chat_id,$message_id); 
		}
	}
	}
	
	if ($file != null ){
		if ($from_id != $admin && $_file == "⛔️") {
	SendMessage($chat_id,"Locked!");
		}
		
	}
	else {
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		Forward($reply,$chat_id,$message_id); 
		}
	}
	}
	elseif ($from_id != $chat_id) {
		
	SendMessage($chat_id,"Bye Bye");
makereq('leaveChat',[
	'chat_id'=>$chat_id
	]);
	}
        
	elseif($textmessage == '🏠العودة إلى الصفحة الرئيسية') {
	save($from_id."/step.txt","none");
	if ($type == "admin") {
	
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"*Home : *",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"⚓️دليل"],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		}
    		else {
    		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"*Home : *",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"👤 پروفایل"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    	}
	}
	elseif ($step == 'set word') {
		save($from_id."/step.txt","set answer");
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Javb ra vared konid
			Mesal : 
			*Salam Khubi ?*",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
				
                 [
                   ['text'=>'🏠 العودة إلى الصفحة الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
			save("words/$textmessaage.txt","Tarif Nashode !");
			save("last_word.txt",$textmessage);
	}
	elseif ($step == 'set answer') {
		save($from_id."/step.txt","none");
		
		$last = file_get_contents("data/last_word.txt");
			$myfile2 = fopen("data/wordlist.txt", "a") or die("Unable to open file!");	
			fwrite($myfile2, "$last\n");
			fclose($myfile2);
			save("words/$last.txt","$textmessage");
		
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Save Shd
			Yek Gozine Ra Entekhab Konid : 
			",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
				[
                   ['text'=>'اضافه کلمه'],['text'=>'حذف کلمه']
                ],
                 [
                   ['text'=>'🏠 العودة إلى الصفحة الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
		
			
	}
	
	elseif($step == "del words") {
			unlink("data/words/$textmessage.txt");
			var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Delete Shd
			Yek Gozine Ra Entekhab Konid : 
			",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
				[
                   ['text'=>'اضافه کلمه'],['text'=>'حذف کلمه']
                ],
                 [
                   ['text'=>'🏠 العودة إلى الصفحة الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
			save($from_id."/step.txt","none");
	}
	
		elseif ($step== 'Forward' && $type == 'admin') {
			if ($forward != null) {
			$forward_id = file_get_contents("data/forward_id.txt");
			Forward($forward_id,$chat_id,$message_id);
			save($from_id."/step.txt","none");
			SendMessage($chat_id,"اعاده توجيه !");
			}
			else {
				SendMessage($chat_id,"اعاده التوجيه ممنوعه !");
			}
		}
	elseif ($step== 'Set Age' && $type == 'admin') {
	
	save($from_id."/step.txt","none");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Changed",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                  [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"الاعدادات"],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		save("profile/age.txt","$textmessage");
	}
	
	elseif ($step== 'Set Name' && $type == 'admin') {
	save($from_id."/step.txt","none");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Changed",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                 [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"الاعدادات"],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		save("profile/name.txt","$textmessage");
	}
	
	elseif ($step== 'Set Bio' && $type == 'admin') {
	save($from_id."/step.txt","none");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Changed",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                 [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"⚓️الاعداات "],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		save("profile/bio.txt","$textmessage");
	}
	elseif ($step== 'Send To All' && $type == 'admin') {
		SendMessage($chat_id,"Sending Message....");
		save($from_id."/step.txt","none");
		$fp = fopen( "data/users.txt", 'r');
		while( !feof( $fp)) {
 			$users = fgets( $fp);
			SendMessage($users,$textmessage);
		}
		SendMessage($chat_id,"Message Was Sent To All Members!");
		
	}
	elseif ($step== 'Edit Start Text' && $type == 'admin') {
		save($from_id."/step.txt","none");
		save("start_txt.txt",$textmessage);
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"تحرير رساله البء.",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                 [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"⚓️ الاعدادات"],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($step== 'Edit Message Delivery' && $type == 'admin') {
		save($from_id."/step.txt","none");
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"تحرير الرسالة الافتراضية .",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                  [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"⚓️دليل"],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
		save("pmsend_txt.txt",$textmessage);
	}
	
	elseif (file_exists("data/words/$textmessage.txt")) {
		SendMessage($chat_id,file_get_contents("data/words/$textmessage.txt"));
		
	}
	
	elseif ($textmessage == 'ميزات خاصه' && $from_id == $admin) {
		if ($bottype == 'gold') {
			var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"مرحبا بكم في الميزات الخاصه VIP",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
				[
                   ['text'=>'🗣 ضبط الرد التلقائي'],['text'=>'تعديل مفاتيح التحكم']
                ],
                 [
                   ['text'=>'🏠 العوده الى صفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
        }
		else {
			SendMessage($chat_id,"الروبوت الخاص بك مجاني.");
		}
	}
	elseif ($textmessage == 'حذف کلمه' && $from_id == $admin) {
				save($from_id."/step.txt","del words");

		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Kalame Mored Nazar ra vared konid",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                 [
                   ['text'=>'🏠العوده الى الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	elseif ($textmessage == '🗣 الميزات الخاصه' && $bottype == 'gold' && $from_id == $admin) {

		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Yek Gozine Ra Entekhab Konid : ",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
				[
                   ['text'=>'اضافه كلمه'],['text'=>'حذف کلمه']
                ],
                 [
                   ['text'=>'🏠 العوده الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
		
	}
	elseif ($textmessage == 'اضافه کلمه' && $bottype == 'gold' && $from_id == $admin) {
				save($from_id."/step.txt","set word");
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Kalame Aval ra vared konid
			Mesal : 
			*Salam*",
			'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
				
                 [
                   ['text'=>'🏠العوده الي صفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == '▶️ تحرير رسالة البدء' && $from_id == $admin) {
	$sttxt = file_get_contents("data/start_txt.txt");
	save($from_id."/step.txt","Edit Start Text");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"*Change Start Text*
	last Message Delivery text : 
	`".$sttxt."`
	*Please* Write New Start Text ♥",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🏠العوده الي الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == '⏸تحرير رسالة الافتراضية' && $from_id == $admin) {
	$sttxt = file_get_contents("data/pmsend_txt.txt");
	save($from_id."/step.txt","Edit Message Delivery");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"*Change Message Delivery Text*
	last start text : 
	`".$sttxt."`
	*Please* Write New Message Delivery Text ♥",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🏠العوده الى الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == '⚙ الاعدادات' && $from_id == $admin) {
	
	var_dump(makereq('sendMessage',[
			'chat_id'=>$update->message->chat->id,
			'text'=>"الاعدادات.
`
 🚫 = قفل.
 ✅ = فتح"."`",
			'parse_mode'=>'MarkDown',
			'reply_markup'=>json_encode([
				'inline_keyboard'=>[
					[
						['text'=>"ملصقات",'callback_data'=>"sticker"],['text'=>$_sticker,'callback_data'=>"sticker"]
					],
					[
						['text'=>"فيديو",'callback_data'=>"video"],['text'=>$_video,'callback_data'=>"video"]
					],
					[
						['text'=>"بصمة",'callback_data'=>"voice"],['text'=>$_voice,'callback_data'=>"voice"]
					],
					[
						['text'=>"ملفات",'callback_data'=>"file"],['text'=>$_file,'callback_data'=>"file"]
					],
					[
						['text'=>"صورة",'callback_data'=>"photo"],['text'=>$_photo,'callback_data'=>"photo"]
					],
					[
						['text'=>"صوت mp3",'callback_data'=>"music"],['text'=>$_music,'callback_data'=>"music"]
					],
					[
						['text'=>"اعاده توجيه",'callback_data'=>"forward"],['text'=>$_forward,'callback_data'=>"forward"]
					],
					[
						['text'=>"اضافه للمجموعات",'callback_data'=>"joingp"],['text'=>$_joingp,'callback_data'=>"joingp"]
					]
				]
			])
		]));
	
	}
	
	elseif ($textmessage == '👁 إظهار رقم هاتفي' && $from_id == $admin) {
	$anumber = file_get_contents("data/profile/number.txt");
	$aname= file_get_contents("data/profile/cname.txt");
	makereq('sendContact',[
	'chat_id'=>$chat_id,
	'phone_number'=>$anumber,
	'first_name'=>$aname
	]);
	}
	elseif ($textmessage == 'العمر' && $from_id == $admin) {
	save($from_id."/step.txt","Set Age");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Please Write Your Age Now!",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🏠العوده الي الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == 'الاسم' && $from_id == $admin) {
	save($from_id."/step.txt","Set Name");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Please Write Your Name Now!",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🏠العوده الى الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == 'معلومات عنك ' && $from_id == $admin) {
	save($from_id."/step.txt","Set Bio");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Please Write Your Biography Now!",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🏠 العوده الى الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == '☎️ اعدادات جهة الاتصال' && $from_id == $admin) {
	save($from_id."/step.txt","Set Contact");
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"حدد خيارا.",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🌐 اعدادات رقم الهاتف' , 'request_contact' => true]
                ],
              	[
                   ['text'=>'👁 اظهار رقم هاتفي']
                ],
                [
                   ['text'=>'🏠 العوده الي الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	
	elseif ($textmessage == '👥 الاعضاء' && $from_id == $admin) {
	$usercount = -1;
	$fp = fopen( "data/users.txt", 'r');
	while( !feof( $fp)) {
    		fgets( $fp);
    		$usercount ++;
	}
	fclose( $fp);
	SendMessage($chat_id,"*Users :* `".$usercount."`");
	}
	
	elseif ($textmessage == '⚫️ قائمة الحظر' && $from_id == $admin) {
	$usercount = -1;
	$fp = fopen( "data/blocklist.txt", 'r');
	while( !feof( $fp)) {
    		$line = fgets( $fp);
    		$usercount ++;	
			
			if ($line == '') {
				$usercount = $usercount-1;
			}
	}
	fclose( $fp);
	SendMessage($chat_id,"*Blocked Users :* `".$usercount."`");
	}
	
	elseif ($textmessage == 'ترقية الروبوت VIP' && $from_id == $admin) {
	$text = "
	💥 مميزات خاصية الـــ ــ(VIP) 💥
➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖
✅ مميزات اضافية للروبوت الخاص بك! 📈

1⃣ ازالة كافة الرسائل الاعلانية❌
2⃣ إدارة وإنشاء أزرار المهنية للروبوتات ⌨
3⃣ اصلاح مشكله الروبوت النسخ الاحتياطي PVC  🗣
4⃣ جدول الأعمال الذي يعكس بناء الروبوت الخاص بك عن طريق الروبوت سيتم حذف . 😉
5⃣ عندما تضاف ميزت (VIP)الي الروبوت الخاص سيكون في الاولوية عن الروبوتات الثانية. 🤖

🔰 تكلفه تحويل الروبوت الخاص بك الى (VIP)هيا 2$\n لتحويل الروبوت راسل المطور\n @kasper_dev_bot
";
	SendMessage($chat_id,$text);
	}
	
	elseif ($textmessage == '⚓️ الاعدادات' && $from_id == $admin) {
	$text = "
	سلام

- هذا الروبوت لراحتك ودعم للروبوت، قناة أو جماعة أو حتى بناء موقع الويب الخاص بك

- البوت مكتوب بلغه  PHP

- Devloper : @xXxDe_iQxXx\n @kasper_dev

لمعرفه كيفية استخدام الروبوت اختار من الازرار ادناه👇

Copy Right 2016 ©
@dev_kasper
	";
	
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>$text,
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"🔰 Comments"],['text'=>"🔰 Buttons"]
                ],
                [ 
                 ['text'=>"🏠 العوده الي الصفحه الرئيسية"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
	}
	elseif ($textmessage == '👤 پروفایل') {
		if ($from_id == $admin) {
	var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"إدارة ملف التعريف الخاص بك.",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"الاسم"],['text'=>"العمر"],['text'=>" رقم الهاتف"]
                ],
                [
                   ['text'=>'🏠 العوده الي الصفحه الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
		}
		else {
			$name = file_get_contents("data/profile/name.txt");
			$age = file_get_contents("data/profile/age.txt");
			$bio = file_get_contents("data/profile/bio.txt");
			$protxt = "";
			if ($name == '' && $age == '' && $bio == '') {
				$protxt = "📕 الملف فارغ . . . !";
			}
			if ($name != '') {
				$protxt = $protxt."\nName : ".$name;
			}
			
			if ($age != '') {
				$protxt = $protxt."\nAge : ".$age;
			}
			
			if ($bio != '') {
				$protxt = $protxt."\nBioGraphy : \n".$bio;
			}
			SendMessage($chat_id,$protxt);
		}
	}
	elseif ($textmessage == '🔰 Comments' && $from_id == $admin) {
	$text = " `
	🔰دستورات

- برای پاسخ با پیام های کاربران روی ان ها ریپلای کنید و پیام خود را ارسال کنید.

+ لیست دستورات

  /ban : 
 قم بالرد على شخص برساله (/ban) سوف يتم حظر العضو

  /unban : 
  قم بالرد على شخص برساله (/unban) سوف يتم الغاء حظر العضو


  /forward : 
 قم بأعادة توجيه رساله والرد عليها بــ(/forward)ــ سوف يتم ارسالها للكل

  /share :  
 يمكنك ارسال رساله (/shere) بالرد للاستفاده من رقمك ولكن عليك تسجيله بلأول
	`";
	SendMessage($chat_id,$text);
	}
	
	elseif ($textmessage == '🔰 Buttons' && $from_id == $admin) {
	$text = "
	🔰الازرار

+ Buttons List

  🗣 ارسال رساله للكل :
  إرسال رسالة إلى المستخدمين والمجموعات.

  ⚙ الاعدادات :
  اعدادات الروبوت الخاص بك.

  ▶️ تحرير رسالة البدء :
  تحرير رسالة بدء الروبوت الخاص بك .

  ⏸تعديل الرسالة الافتراضية :
  تحرير الرسالة الافتراضية الروبوت الخاص بك.

  👥 الاعضاء :
  لمعرفه عدد اعضاء الروبوت الخاص بك.

  ⚫️ قائمة الحظر :
  عرض قائمة المحظورين.

  ☎️  اعدادات جهة الاتصال :
  وضع رقمك.

  👤 پروفایل :
  إعدادات ملف التعريف الخاص بك.
	";
	SendMessage($chat_id,$text);
	}
	
	elseif($textmessage == '/start')
	{
		$txt = file_get_contents("data/start_txt.txt");
		//==============
		if ($type == "admin") {
		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"مرحبا بك في الروبوت الخاص بك.",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"🗣 ارسال رساله للكل"],['text'=>"الاعدادات"],['text'=>"⚙ الاعدادات"]
                ],
                [
                   ['text'=>"▶️تحرير رسالة البدء"],['text'=>"⏸تعديل الرسالة الافتراضية"]
                ],
                [
                   ['text'=>"👥 الاعضاء"],['text'=>"ترقية الروبوت VIP"],['text'=>"⚫️ قائمة الحظر"]
                ],
                [
                   ['text'=>"☎️ اعدادات الاتصال"],['text'=>"👤 پروفایل"],['text'=>"ميزات خاصة للـVIPــ"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		}
    		else {
    		if ($bottype != "gold") {

    		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>$txt."\n\nCreate Your Own Bot With @CreatePHPBot",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"👤 پروفایل"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		}
    		else {
    		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>$txt,
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"👤 پروفایل"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		}
    		}
		//==============
		$users = file_get_contents("data/users.txt");
		if (strpos($users , "$chat_id") !== false)
		{ 
		
		}
		else { 
			$myfile2 = fopen("data/users.txt", "a") or die("Unable to open file!");	
			fwrite($myfile2, "$from_id\n");
			fclose($myfile2);
			mkdir("data/".$from_id);
			save($from_id."/type.txt","member");
			save($from_id."/step.txt","none");
		     }
	}
	elseif ($reply != null && $from_id == $admin) {
		if ($textmessage == '/share') {
		$anumber = file_get_contents("data/profile/number.txt");
		$aname= file_get_contents("data/profile/cname.txt");
		makereq('sendContact',[
		'chat_id'=>$reply,
		'phone_number'=>$anumber,
		'first_name'=>$aname
		]);
		SendMessage($chat_id,"المقدمة  .");
		}
		elseif ($textmessage == '/forward') {
		SendMessage($chat_id,"إعادة توجيه الرسالة !");	
		save($from_id."/step.txt","Forward");
		save("forward_id.txt","$reply");
		}
		elseif ($textmessage == '/ban') {
			$myfile2 = fopen("data/blocklist.txt", "a") or die("Unable to open file!");	
			fwrite($myfile2, "$reply\n");
			fclose($myfile2);
			SendMessage($chat_id,"*User Banned!*");
			SendMessage($reply,"*You Are Banned!*");
		}
		elseif ($textmessage == '/unban') {
			
			$newlist = str_replace($reply,"",$list);
			save("blocklist.txt",$newlist);
			SendMessage($chat_id,"*User UnBanned!*");
			SendMessage($reply,"*You Are UnBanned!*");
		}
		else {
	SendMessage($reply ,$textmessage);
	SendMessage($chat_id,"تم ارسال الرساله .");	
		}
	}
	
	elseif ($textmessage == '/creator' && $bottype != "gold") {
    		var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Create Your Own Bot With @CreatePHPBot",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>"👤 پروفایل"]
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
    		
	}
	elseif ($forward != null && $_forward == "⛔️") {
		SendMessage($chat_id,"Locked!");
	}
	elseif (strpos($textmessage , "ارسال رساله للكل") !== false  || $textmessage == "🗣 ارسال رساله للكل") {
		if ($from_id == $admin) {
			save($from_id."/step.txt","Send To All");
				var_dump(makereq('sendMessage',[
        	'chat_id'=>$update->message->chat->id,
        	'text'=>"Write Your Text!",
		'parse_mode'=>'MarkDown',
        	'reply_markup'=>json_encode([
            	'keyboard'=>[
                [
                   ['text'=>'🏠 العودة إلى الصفحة الرئيسية']
                ]
            	],
            	'resize_keyboard'=>true
       		])
    		]));
		}
		else {
			SendMessage($chat_id,"You Are Not Admin");
		}
	}
	else
	{
		if ($from_id != $admin) {
		$txt = file_get_contents("data/pmsend_txt.txt");
		SendMessage($chat_id,$txt);
		Forward($admin,$chat_id,$message_id); 
		}
		else {
		SendMessage($chat_id,"Command Not Found!");
		}
	}
	
	
	?>
